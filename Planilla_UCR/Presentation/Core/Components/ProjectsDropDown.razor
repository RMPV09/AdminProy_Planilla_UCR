@using Application.ContextMenu
@inject IContextMenuService ContextMenuService

<li class="nav-item px-3">   
    <NavLink class="nav-link" Match="NavLinkMatch.All">
        <MudIconButton Icon="@Icons.Filled.CardTravel" Color="@Color.Secondary" Class="mr-2"/>
        <span  aria-hidden="true"></span> <MudText>@ContextMenuService.GetProjectsContext()</MudText>
        <MudSpacer></MudSpacer>
        <MudIconButton Size="Size.Medium" OnClick="ToggleProjectsSubMenu" Icon="@icon" Color="Color.Secondary"></MudIconButton>
    </NavLink>
</li>

@code {
    [Parameter]
    public string icon {get; set;}

    private void ToggleProjectsSubMenu()
    {
        ContextMenuService.SetProjectsContext(ContextMenuService.GetShowProjectsMenu(), !ContextMenuService.GetShowProjectsSubMenu(), ContextMenuService.GetProjectsContext(), ContextMenuService.GetEmployerEmailContext(), ContextMenuService.GetHoursEmployeeContext(), ContextMenuService.GetReportsContext());
    }
}
